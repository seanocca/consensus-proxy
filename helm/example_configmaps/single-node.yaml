# Single beacon node deployment
# Minimal setup for running consensus-proxy in front of one beacon node.

deployment:
  replicas: 1

resources:
  requests:
    cpu: 50m
    memory: 64Mi
  limits:
    cpu: 250m
    memory: 256Mi

configMap:
  config: |
    [server]
    port = 8080
    max_retries = 3
    request_timeout = "30s"

    [beacons]
    nodes = ["lighthouse"]

    [beacons.lighthouse]
    url = "http://lighthouse:5052"
    type = "lighthouse"

    [failover]
    error_threshold = 5

    [logger]
    level = "info"
    format = "json"
    output = "stdout"

    [health]
    interval = "30s"
    timeout = "5s"
    successful_checks_for_failback = 3
